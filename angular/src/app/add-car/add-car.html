<div class="add-car-wrap">
  <div class="card">
    <h2>Add Vehicle</h2>

    <form [formGroup]="addForm" (ngSubmit)="submit()">
      <label>VIN</label>
      <input formControlName="vin" placeholder="Vehicle Identification Number" />
      <div class="error" *ngIf="f.vin.touched && f.vin.invalid">VIN is required (min 5 chars).</div>

      <label>Make</label>
      <input formControlName="make" placeholder="e.g. Toyota" />
      <div class="error" *ngIf="f.make.touched && f.make.invalid">Make is required.</div>

      <label>Model</label>
      <input formControlName="model" placeholder="e.g. Corolla" />
      <div class="error" *ngIf="f.model.touched && f.model.invalid">Model is required.</div>

      <label>Fuel Type</label>
      <select formControlName="fuelType">
        <option value="Petrol">Petrol</option>
        <option value="Diesel">Diesel</option>
        <option value="Electric">Electric</option>
        <option value="Hybrid">Hybrid</option>
      </select>

      <label>Year</label>
      <input formControlName="yearOfManufacture" placeholder="YYYY" />
      <div class="error" *ngIf="f.yearOfManufacture.touched && f.yearOfManufacture.invalid">Enter a valid year (4 digits).</div>

      <div class="actions">
        <button type="submit" [disabled]="loading">{{ loading ? 'Adding...' : 'Add Car' }}</button>
        <button type="button" class="btn-cancel" (click)="router.navigate(['/dashboard'])">Cancel</button>
      </div>
    </form>

    <div class="server-msg" *ngIf="serverMessage" [class.err]="serverError">{{ serverMessage }}</div>
  </div>
</div>
